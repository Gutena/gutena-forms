!function(){"use strict";var e=window.wp.element,t=window.wp.blocks,l=window.wp.i18n,a=window.wp.hooks,n=window.wp.blockEditor;const r=e=>null==e||""===e;var o=window.wp.data,i=window.wp.components;const s=()=>(0,e.createElement)(i.Icon,{icon:()=>(0,e.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",color:"#ffffff"},(0,e.createElement)("rect",{x:"2.75",y:"3.75",width:"18.5",height:"16.5",stroke:"#0EA489",strokeWidth:"1.5"}),(0,e.createElement)("rect",{x:"6",y:"7",width:"12",height:"1",fill:"#0EA489"}),(0,e.createElement)("rect",{x:"6",y:"11",width:"12",height:"1",fill:"#0EA489"}),(0,e.createElement)("rect",{x:"6",y:"15",width:"12",height:"1",fill:"#0EA489"}))}),c=(e,t)=>{const l=(0,o.select)("core/block-editor").getClientIdsWithDescendants();return!r(l)&&l.some((l=>{const{nameAttr:a}=(0,o.select)("core/block-editor").getBlockAttributes(l);return t!==l&&a===e}))};var u=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":2,"name":"gutena/form-field","version":"1.0.0","title":"Form field","parent":["gutena/forms"],"category":"gutena","icon":"feedback","description":"Form field","attributes":{"nameAttr":{"type":"string","default":"input_1"},"fieldName":{"type":"string","default":"Name"},"fieldClasses":{"type":"string","default":""},"fieldType":{"type":"string","default":"text"},"isRequired":{"type":"boolean","default":false},"placeholder":{"type":"string","default":""},"defaultValue":{"type":"string","default":""},"autocomplete":{"type":"boolean","default":false},"autoCapitalize":{"type":"boolean","default":false},"textAreaRows":{"type":"number","default":5},"maxlength":{"type":"number","default":""},"minMaxStep":{"type":"object","default":{}},"preFix":{"type":"string","default":""},"sufFix":{"type":"string","default":""},"selectOptions":{"type":"array","default":["Big","Medium","Small"]},"optionsColumns":{"type":"number","default":1},"optionsInline":{"type":"boolean","default":false},"multiSelect":{"type":"boolean","default":false},"errorRequiredMsg":{"type":"string","default":"Field is required"},"errorInvalidInputMsg":{"type":"string","default":"Input is not valid"},"description":{"type":"string","default":""},"fieldStyle":{"type":"string","default":""},"settings":{"type":"object","default":{}}},"usesContext":["gutena-forms/formID"],"supports":{"__experimentalSettings":true,"align":["wide","full"],"color":{"background":true,"text":true},"__experimentalBorder":{"color":true,"radius":true,"style":true,"width":true,"__experimentalDefaultControls":{"color":true,"radius":true,"style":true,"width":true}},"spacing":{"margin":true,"padding":true,"blockGap":{"__experimentalDefault":"2em","sides":["horizontal","vertical"]}},"html":false},"textdomain":"gutena-forms","editorScript":"file:./index.js","editorStyle":"file:./index.css","style":"file:./style-index.css"}');(0,t.registerBlockType)(u,{icon:()=>(0,e.createElement)(i.Icon,{icon:()=>(0,e.createElement)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,e.createElement)("rect",{x:"2",y:"4",width:"8",height:"2",fill:"#0EA489"}),(0,e.createElement)("rect",{x:"2",y:"11",width:"8",height:"2",fill:"#0EA489"}),(0,e.createElement)("rect",{x:"14",y:"4",width:"8",height:"2",fill:"#0EA489"}),(0,e.createElement)("rect",{x:"14",y:"11",width:"8",height:"2",fill:"#0EA489"}),(0,e.createElement)("rect",{x:"2",y:"18",width:"20",height:"2",fill:"#0EA489"}))}),edit:function(t){let{className:u,attributes:m,setAttributes:f,isSelected:g,clientId:d,context:p,gutenaExtends:h={}}=t;const{nameAttr:x,fieldName:E,fieldClasses:b,fieldType:_,isRequired:y,placeholder:w,defaultValue:v,autocomplete:C,autoCapitalize:k,textAreaRows:N,maxlength:S,minMaxStep:T,preFix:A,sufFix:B,selectOptions:q,optionsColumns:F,optionsInline:R,multiSelect:I,errorRequiredMsg:M,errorInvalidInputMsg:P,description:O,settings:D,style:$}=m,j=[{label:"Text",value:"text"},{label:"Number",value:"number"},{label:"Range",value:"range"},{label:"TextArea",value:"textarea"},{label:"Email",value:"email"},{label:"Dropdown",value:"select"},{label:"Radio",value:"radio"},{label:"Checkbox",value:"checkbox"}];let V=[];(0,a.hasFilter)("gutenaforms.field.types")&&(V=(0,a.applyFilters)("gutenaforms.field.types",V));const z=r(V)||0===V.length?j:[...j,...V],G=r(V)||0===V.length?[]:V.map((e=>e.value)),[W,H]=(0,e.useState)(q[0]),[J,L]=(0,e.useState)(""),{selectBlock:K}=(0,o.useDispatch)(n.store),Q=(0,o.useSelect)((e=>e(n.store).getBlockParentsByBlockName(d,"gutena/forms",!0)),[d]),U=(0,o.useSelect)((e=>{let t=e(n.store).getAdjacentBlockClientId(d,-1);return r(t)&&(t=e(n.store).getAdjacentBlockClientId(d,1)),t}),[]),X=(0,o.useSelect)((e=>{if(r(U))return null;let t=e(n.store).getBlockAttributes(U);return r(t)||r(t.content)?"":t.content.replace(/(<([^>]+)>)|\*/gi,"").trim()}),[U]),{updateBlockAttributes:Y}=(0,o.useDispatch)(n.store);(0,e.useEffect)((()=>{let e=!0;if(e&&("input_1"==x||""==x||!r(x)&&c(x,d)))for(let e=0;e<5e3;e++){let t="f_"+e;if(!c(t,d)){f({nameAttr:t});break}}return()=>{e=!1}}),[]);const Z=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];f({fieldName:e}),t&&!r(U)&&Y(U,{content:e})};(0,e.useEffect)((()=>{let e=!0;return e&&Z(X),()=>{e=!1}}),[X]);const ee=()=>{let e=document.querySelector('.block-editor-block-styles__variants [aria-label="Border Style"]');r(e)||(e.style.display=g&&"range"===_?"inline-block":"none")};(0,e.useEffect)((()=>{let e=!0;return e&&ee(),()=>{e=!1}}),[g]),(0,e.useEffect)((()=>{let e=!0;if(e){ee();let e=`gutena-forms-field ${_}-field ${y?"required-field":""} ${C?"autocomplete":""} `;-1!==["radio","checkbox"].indexOf(_)&&(e+=R?" inline-options":" has-"+F+"-col"),f({fieldClasses:e})}return()=>{e=!1}}),[_,y,R,F,C]);const te=(0,n.useBlockProps)({className:`gutena-forms-${_}-field field-name-${x} ${R?"gf-inline-content":""}`});return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(n.BlockControls,null,(0,e.createElement)(i.ToolbarGroup,null,(0,e.createElement)(i.ToolbarButton,{icon:s,label:(0,l.__)("Select form block","gutena-forms"),onClick:()=>{r(Q)||K(Q[0])}}))),(0,e.createElement)(n.InspectorControls,null,(0,e.createElement)(i.PanelBody,{title:(0,l.__)("Field Type","gutena-forms"),initialOpen:!0},(0,e.createElement)(i.SelectControl,{value:_,options:z,onChange:e=>f({fieldType:e}),help:(0,l.__)("Select appropriate field type for input","gutena-forms"),__nextHasNoMarginBottom:!0}),!r(h?.gfcontrols)&&h.gfcontrols(),-1!==["select","checkbox","radio"].indexOf(_)&&(0,e.createElement)(i.FormTokenField,{label:C?(0,l.__)("Preferences","gutena-forms"):(0,l.__)("Options","gutena-forms"),value:q,suggestions:q,onChange:e=>f({selectOptions:e})}),-1!==["radio","checkbox"].indexOf(_)&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(i.ToggleControl,{label:(0,l.__)("Show Inline","gutena-forms"),className:"gf-mt-1",help:R?(0,l.__)("Toggle to make options show in columns","gutena-forms"):(0,l.__)("Toggle to make options show inline","gutena-forms"),checked:R,onChange:e=>f({optionsInline:e})}),!R&&(0,e.createElement)(i.RangeControl,{label:(0,l.__)("Columns","gutena-forms"),value:F,onChange:e=>f({optionsColumns:e}),min:1,max:6,step:1})),("number"===_||"range"===_)&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("h2",{className:"block-editor-block-card__title gf-mt-1 "},(0,l.__)("Value","gutena-forms")),(0,e.createElement)(i.PanelRow,{className:"gf-child-mb-0 gf-mb-24"},(0,e.createElement)(i.TextControl,{label:(0,l.__)("Minimum","gutena-forms"),value:T?.min,type:"number",onChange:e=>f({minMaxStep:{...T,min:e}})}),(0,e.createElement)(i.TextControl,{label:(0,l.__)("Maximum","gutena-forms"),value:T?.max,type:"number",onChange:e=>f({minMaxStep:{...T,max:e}})}),(0,e.createElement)(i.TextControl,{label:(0,l.__)("Step","gutena-forms"),value:T?.step,type:"number",onChange:e=>f({minMaxStep:{...T,step:e}})})),(0,e.createElement)(i.PanelRow,{className:"gf-child-mb-0 gf-mb-24"},(0,e.createElement)(i.TextControl,{label:(0,l.__)("Prefix","gutena-forms"),value:A,onChange:e=>f({preFix:e})}),(0,e.createElement)(i.TextControl,{label:(0,l.__)("Suffix","gutena-forms"),value:B,onChange:e=>f({sufFix:e})})))),(0,e.createElement)(i.PanelBody,{title:(0,l.__)("Field settings","gutena-forms"),initialOpen:!0},(0,e.createElement)(i.TextControl,{label:(0,l.__)("Label","gutena-forms")+" * ",className:r(E)?" gf-required-field":"",help:r(E)?(0,l.__)("Please add label to the field","gutena-forms"):"",value:null!=E?E:"",onChange:e=>Z(e,!0)}),!r(h?.gfSettings)&&h.gfSettings(),-1!==["text","textarea"].indexOf(_)&&(0,e.createElement)(i.RangeControl,{label:(0,l.__)("Maxlength","gutena-forms"),value:S,onChange:e=>f({maxlength:e}),min:0,max:500,step:25}),"textarea"===_&&(0,e.createElement)(i.RangeControl,{label:(0,l.__)("Textarea Rows","gutena-forms"),value:N,onChange:e=>f({textAreaRows:e}),min:2,max:20,step:1}),(0,e.createElement)(i.PanelRow,null,(0,e.createElement)(i.TextControl,{label:(0,l.__)("Placeholder","gutena-forms"),value:w,onChange:e=>f({placeholder:e})})),(0,e.createElement)(i.PanelRow,null,(0,e.createElement)(i.ToggleControl,{label:(0,l.__)("Required","gutena-forms"),help:y?(0,l.__)("Toggle to make input field not required","gutena-forms"):(0,l.__)("Toggle to make input field required","gutena-forms"),checked:y,onChange:e=>f({isRequired:e})})))),(0,e.createElement)("div",te,_.length>0?0<=["text","email","number"].indexOf(_)?(0,e.createElement)("input",{type:_,className:b,value:null!=J?J:"",onChange:e=>L(e.target.value),placeholder:w||(0,l.__)("Placeholder…"),required:y?"required":""}):"range"===_?(0,e.createElement)("div",{className:"gf-range-container"},(0,e.createElement)("input",{type:_,className:b,required:y?"required":"",value:null!=J?J:"",onChange:e=>L(e.target.value)}),(0,e.createElement)("p",{className:"gf-range-values"},!r(T?.min)&&(0,e.createElement)("span",{className:"gf-prefix-value-wrapper"},(0,e.createElement)("span",{className:"gf-prefix"},r(A)?"":A),(0,e.createElement)("span",{className:"gf-value"},T?.min),(0,e.createElement)("span",{className:"gf-suffix"},r(B)?"":B)),!r(J)&&(0,e.createElement)("span",{className:"gf-prefix-value-wrapper"},(0,e.createElement)("span",{className:"gf-prefix"},r(A)?"":A),(0,e.createElement)("span",{className:"gf-value range-input-value"},J),(0,e.createElement)("span",{className:"gf-suffix"},r(B)?"":B)),!r(T?.max)&&(0,e.createElement)("span",{className:"gf-prefix-value-wrapper"},(0,e.createElement)("span",{className:"gf-prefix"},r(A)?"":A),(0,e.createElement)("span",{className:"gf-value"},T?.max),(0,e.createElement)("span",{className:"gf-suffix"},r(B)?"":B)))):"textarea"===_?(0,e.createElement)("textarea",{className:b,placeholder:w||(0,l.__)("Placeholder…"),required:y?"required":"",rows:N}):"select"===_?(0,e.createElement)("select",{className:b,value:W,onChange:e=>H(e.target.value),required:y?"required":""},q.map(((t,l)=>(0,e.createElement)("option",{key:l,value:t},t)))):"radio"===_||"checkbox"===_?(0,e.createElement)("div",{className:b},q.map(((t,l)=>(0,e.createElement)("label",{key:l,className:_+"-container"},t,(0,e.createElement)("input",{type:_,name:E,value:t,checked:t===W,onChange:e=>H(e.target.value)}),(0,e.createElement)("span",{className:"checkmark"}))))):!r(h?.inputFieldComponent)&&0<=G.indexOf(_)?h.inputFieldComponent():void 0:""))}})}();