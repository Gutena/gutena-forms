(()=>{"use strict";var e={n:t=>{var r=t&&t.__esModule?()=>t.default:()=>t;return e.d(r,{a:r}),r},d:(t,r)=>{for(var o in r)e.o(r,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:r[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.element,r=window.wp.apiFetch;var o=e.n(r);const a=window.wp.blockEditor,n=window.wp.url,l=window.wp.components,i=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"gutena/existing-forms","parent":["gutena/forms"],"version":"1.0.0","title":"Existing Forms","category":"gutena","icon":"feedback","description":"Select and display existing forms created with Gutena Forms plugin.","keywords":["form","existing form","gutena forms","form block"],"attributes":{"formID":{"type":"string","default":false}},"textdomain":"gutena-forms","editorScript":"file:./index.js","style":"file:./style.css","editorStyle":"file:./editor.css","supports":{"__experimentalSettings":true,"align":["wide","full"],"color":{"background":true,"text":true},"__experimentalBorder":{"color":true,"radius":true,"style":true,"width":true,"__experimentalDefaultControls":{"color":true,"radius":true,"style":true,"width":true}},"spacing":{"margin":true,"padding":true,"blockGap":true},"html":false,"__experimentalLayout":true}}');(0,window.wp.blocks.registerBlockType)(i,{icon:()=>(0,t.createElement)(l.Icon,{icon:()=>(0,t.createElement)("svg",{width:"250",height:"150",viewBox:"0 0 250 150",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,t.createElement)("path",{d:"M238.722 0.0673828H11.2998V149.816H238.722V0.0673828Z",fill:"white"}),(0,t.createElement)("path",{d:"M28 33H221V33H28V33Z",stroke:"#7090E5",strokeWidth:"0.426136"}),(0,t.createElement)("path",{opacity:"0.7",d:"M77.8472 23.3975H34.0954C33.6247 23.3975 33.2432 23.779 33.2432 24.2497C33.2432 24.7204 33.6247 25.102 34.0954 25.102H77.8472C78.3179 25.102 78.6994 24.7204 78.6994 24.2497C78.6994 23.779 78.3179 23.3975 77.8472 23.3975Z",fill:"#7090E5"}),(0,t.createElement)("path",{d:"M28.1602 66.125H221.16V66.125H28.1602V66.125Z",stroke:"#7090E5",strokeWidth:"0.426136"}),(0,t.createElement)("path",{opacity:"0.7",d:"M77.8472 55.4651H34.0954C33.6247 55.4651 33.2432 55.8467 33.2432 56.3174C33.2432 56.7881 33.6247 57.1696 34.0954 57.1696H77.8472C78.3179 57.1696 78.6994 56.7881 78.6994 56.3174C78.6994 55.8467 78.3179 55.4651 77.8472 55.4651Z",fill:"#7090E5"}),(0,t.createElement)("path",{d:"M28.1602 98.125H221.16V98.125H28.1602V98.125Z",stroke:"#7090E5",strokeWidth:"0.426136"}),(0,t.createElement)("path",{opacity:"0.7",d:"M77.8472 87.4253H34.0954C33.6247 87.4253 33.2432 87.8069 33.2432 88.2776C33.2432 88.7483 33.6247 89.1298 34.0954 89.1298H77.8472C78.3179 89.1298 78.6994 88.7483 78.6994 88.2776C78.6994 87.8069 78.3179 87.4253 77.8472 87.4253Z",fill:"#7090E5"}),(0,t.createElement)("path",{d:"M90.561 113.846H27.9189V133.022H90.561V113.846Z",fill:"#7090E5"}),(0,t.createElement)("path",{d:"M157 91.4107L163.602 116.051L181.64 98.0131L157 91.4107ZM171.059 105.47L169.497 107.032L190.466 128.002L192.028 126.439L193.59 124.877L172.621 103.908L171.059 105.47Z",fill:"#7090E5"}))}),edit:({attributes:e,setAttributes:r})=>{const l=(0,a.useBlockProps)(),[i,s]=(0,t.useState)([]),[c,u]=(0,t.useState)(!1),[d,m]=(0,t.useState)(null);return(0,t.useEffect)(()=>{o()({path:"/gutena-forms/v1/forms/get-ids"}).then(e=>{s(e.forms)}),e.formID&&u(e.formID)},[]),(0,t.useEffect)(()=>{c&&"false"!==c&&o()({path:(0,n.addQueryArgs)("/gutena-forms/v1/forms/get",{id:c})}).then(e=>{m(e.form.content)})},[c]),c&&"false"!==c&&d?(0,t.createElement)("div",l,(0,t.createElement)("div",{dangerouslySetInnerHTML:{__html:d}})):(0,t.createElement)("div",null,e.formID?(0,t.createElement)("div",null,"Loading form"):(0,t.createElement)("select",{onChange:e=>{u(e.target.value),r({formID:e.target.value})}},(0,t.createElement)("option",{value:!1},"Select a form"),i.map(e=>(0,t.createElement)("option",{key:e.id,value:e.id},e.title))))},save:({attributes:e})=>{const r=a.useBlockProps.save();return(0,t.createElement)("div",r,"Something went wrong. Please update Gutena Forms to the latest version.")}})})();