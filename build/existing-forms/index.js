(()=>{"use strict";var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.element,n=window.wp.components,r=window.wp.apiFetch;var l=e.n(r);const C=window.wp.blockEditor,a=window.wp.url,o=()=>(0,t.createElement)(n.Icon,{icon:()=>(0,t.createElement)("svg",{width:"160",height:"51",viewBox:"0 0 160 51",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,t.createElement)("path",{d:"M7.48529 24.0457H0.00390625L20.0864 3.9624V11.3856L7.48529 24.0457Z",fill:"#0DA88C"}),(0,t.createElement)("path",{d:"M35.0484 24.0447H42.5298L22.4473 3.96143V11.3847L35.0484 24.0447Z",fill:"#0DA88C"}),(0,t.createElement)("path",{d:"M7.48138 26.407H0L20.0824 46.4904V39.0671L7.48138 26.407Z",fill:"#0DA88C"}),(0,t.createElement)("path",{d:"M35.0464 26.4099H42.5277L22.4453 46.4932V39.0699L35.0464 26.4099Z",fill:"#0DA88C"}),(0,t.createElement)("path",{d:"M36.8189 31.0215H21.1992V26.4075H36.8189V31.0215Z",fill:"#0DA88C"}),(0,t.createElement)("path",{d:"M7.48529 24.0457H0.00390625L20.0864 3.9624V11.3856L7.48529 24.0457Z",fill:"#0DA88C"}),(0,t.createElement)("path",{d:"M35.0484 24.0447H42.5298L22.4473 3.96143V11.3847L35.0484 24.0447Z",fill:"#0DA88C"}),(0,t.createElement)("path",{d:"M7.48138 26.407H0L20.0824 46.4904V39.0671L7.48138 26.407Z",fill:"#0DA88C"}),(0,t.createElement)("path",{d:"M35.0464 26.4099H42.5277L22.4453 46.4932V39.0699L35.0464 26.4099Z",fill:"#0DA88C"}),(0,t.createElement)("path",{d:"M36.8189 31.0215H21.1992V26.4075H36.8189V31.0215Z",fill:"#0DA88C"}),(0,t.createElement)("path",{d:"M69.8736 28.8166H59.7V40H54.9124V12.6585H71.8185V17.0721H59.7V24.5152H69.8736V28.8166ZM72.9517 30.7241C72.9517 24.9641 77.1034 20.9994 82.826 20.9994C88.5487 20.9994 92.7004 24.9641 92.7004 30.7241C92.7004 36.4841 88.5487 40.4488 82.826 40.4488C77.1034 40.4488 72.9517 36.4841 72.9517 30.7241ZM77.5148 30.7241C77.5148 34.0904 79.6842 36.3719 82.826 36.3719C85.9679 36.3719 88.1372 34.0904 88.1372 30.7241C88.1372 27.3578 85.9679 25.0763 82.826 25.0763C79.6842 25.0763 77.5148 27.3578 77.5148 30.7241ZM107.912 21.4482V25.6747H106.229C102.938 25.6747 100.88 27.4327 100.88 31.0233V40H96.3173V21.5604H100.619L100.88 24.2534C101.666 22.4207 103.424 21.1864 105.892 21.1864C106.528 21.1864 107.164 21.2612 107.912 21.4482ZM115.564 40H111.001V21.523H115.19L115.564 23.6924C116.499 22.1589 118.369 20.962 121.025 20.962C123.83 20.962 125.775 22.3459 126.747 24.4778C127.683 22.3459 129.852 20.962 132.657 20.962C137.145 20.962 139.614 23.655 139.614 27.9189V40H135.088V29.1158C135.088 26.4602 133.667 25.0763 131.498 25.0763C129.291 25.0763 127.608 26.4976 127.608 29.5272V40H123.045V29.0784C123.045 26.4976 121.661 25.1137 119.491 25.1137C117.322 25.1137 115.564 26.535 115.564 29.5272V40ZM142.453 34.3896H146.792C146.829 35.9979 148.026 37.0078 150.121 37.0078C152.253 37.0078 153.412 36.1475 153.412 34.801C153.412 33.8659 152.926 33.1927 151.28 32.8187L147.951 32.0332C144.623 31.2851 143.014 29.7142 143.014 26.7594C143.014 23.1313 146.081 20.962 150.345 20.962C154.497 20.962 157.302 23.3557 157.339 26.9464H153.001C152.963 25.3755 151.916 24.3656 150.158 24.3656C148.363 24.3656 147.316 25.1885 147.316 26.5724C147.316 27.6197 148.138 28.2929 149.709 28.6669L153.038 29.4524C156.143 30.1631 157.713 31.5844 157.713 34.427C157.713 38.1673 154.534 40.4862 149.971 40.4862C145.371 40.4862 142.453 38.0177 142.453 34.3896Z",fill:"#1E1E1E"}))}),i=window.wp.i18n,s=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"gutena/existing-forms","parent":["gutena/forms"],"version":"1.0.0","title":"Existing Forms","category":"gutena","icon":"feedback","description":"Select and display existing forms created with Gutena Forms plugin.","keywords":["form","existing form","gutena forms","form block"],"attributes":{"formID":{"type":"string","default":false}},"textdomain":"gutena-forms","editorScript":"file:./index.js","style":"file:./style.css","editorStyle":"file:./editor.css","supports":{"__experimentalSettings":true,"align":["wide","full"],"color":{"background":true,"text":true},"__experimentalBorder":{"color":true,"radius":true,"style":true,"width":true,"__experimentalDefaultControls":{"color":true,"radius":true,"style":true,"width":true}},"spacing":{"margin":true,"padding":true,"blockGap":true},"html":false,"__experimentalLayout":true}}');(0,window.wp.blocks.registerBlockType)(s,{icon:()=>(0,t.createElement)(n.Icon,{icon:()=>(0,t.createElement)("svg",{className:"gutena-forms__variation-icons",width:"250",height:"150",viewBox:"0 0 250 150",fill:"none",xmlns:"http://www.w3.org/2000/svg"},(0,t.createElement)("rect",{width:"250",height:"150",fill:"white"}),(0,t.createElement)("rect",{x:"28.488",y:"58.488",width:"193.78",height:"32.6413",rx:"3.4163",fill:"#4BA18A"}),(0,t.createElement)("rect",{x:"28.488",y:"58.488",width:"193.78",height:"32.6413",rx:"3.4163",stroke:"#4BA18A","stroke-width":"0.976084"}),(0,t.createElement)("path",{d:"M44.1544 72.607C44.1544 70.8579 45.6029 69.6417 47.7073 69.6417C49.7298 69.6417 51.0143 70.7622 51.069 72.566H49.3198C49.2788 71.7051 48.6639 71.1995 47.68 71.1995C46.6004 71.1995 45.9035 71.7188 45.9035 72.5524C45.9035 73.263 46.2861 73.6593 47.1197 73.8506L48.6912 74.1922C50.3994 74.5612 51.2329 75.4357 51.2329 76.9252C51.2329 78.7837 49.7844 79.9862 47.5843 79.9862C45.4526 79.9862 44.0587 78.852 44.0177 77.0619H45.7669C45.7805 77.9091 46.4638 78.4147 47.5843 78.4147C48.7459 78.4147 49.4838 77.9091 49.4838 77.0756C49.4838 76.406 49.1422 76.0097 48.3223 75.832L46.7371 75.4767C45.0426 75.1078 44.1544 74.1375 44.1544 72.607ZM55.5894 79.9862C53.5806 79.9862 52.1731 78.5241 52.1731 76.4333C52.1731 74.3152 53.5532 72.853 55.5347 72.853C57.5571 72.853 58.8417 74.2059 58.8417 76.3103V76.8159L53.7582 76.8296C53.8812 78.0185 54.5098 78.6197 55.6167 78.6197C56.5323 78.6197 57.1335 78.2644 57.3248 77.6222H58.869C58.582 79.098 57.3522 79.9862 55.5894 79.9862ZM55.5484 74.2195C54.5645 74.2195 53.9632 74.7525 53.7992 75.7637H57.1882C57.1882 74.8345 56.5459 74.2195 55.5484 74.2195ZM61.8568 79.8086H60.2033V69.6417H61.8568V79.8086ZM66.6256 79.9862C64.6168 79.9862 63.2093 78.5241 63.2093 76.4333C63.2093 74.3152 64.5895 72.853 66.5709 72.853C68.5934 72.853 69.8779 74.2059 69.8779 76.3103V76.8159L64.7945 76.8296C64.9174 78.0185 65.546 78.6197 66.6529 78.6197C67.5685 78.6197 68.1698 78.2644 68.3611 77.6222H69.9052C69.6183 79.098 68.3884 79.9862 66.6256 79.9862ZM66.5846 74.2195C65.6007 74.2195 64.9994 74.7525 64.8355 75.7637H68.2244C68.2244 74.8345 67.5822 74.2195 66.5846 74.2195ZM70.8159 76.4196C70.8159 74.3289 72.1961 72.853 74.1912 72.853C76.036 72.853 77.2932 73.8779 77.4708 75.5041H75.8037C75.6124 74.7388 75.0521 74.3425 74.2595 74.3425C73.1936 74.3425 72.483 75.1488 72.483 76.4196C72.483 77.6905 73.139 78.4831 74.2049 78.4831C75.0384 78.4831 75.626 78.0731 75.8037 77.3352H77.4845C77.2795 78.9067 75.9677 79.9862 74.2049 79.9862C72.1551 79.9862 70.8159 78.5651 70.8159 76.4196ZM81.0211 79.8086H79.354V74.4518H78.0558V73.058H79.354V70.9536H81.0211V73.058H82.333V74.4518H81.0211V79.8086ZM89.0614 79.9862C87.6265 79.9862 86.7519 79.1527 86.7519 77.8818C86.7519 76.6383 87.6538 75.8594 89.2527 75.7364L91.2751 75.5861V75.4357C91.2751 74.5202 90.7285 74.1512 89.8813 74.1512C88.8974 74.1512 88.3508 74.5612 88.3508 75.2718H86.9296C86.9296 73.8096 88.1321 72.853 89.9633 72.853C91.7807 72.853 92.9013 73.8369 92.9013 75.709V79.8086H91.4391L91.3161 78.811C91.0291 79.508 90.1136 79.9862 89.0614 79.9862ZM89.608 78.729C90.6329 78.729 91.2888 78.1141 91.2888 77.0756V76.7203L89.8813 76.8296C88.8427 76.9252 88.4464 77.2669 88.4464 77.8135C88.4464 78.4284 88.8564 78.729 89.608 78.729ZM96.2062 79.8086H94.5391V73.058H96.0832L96.2199 73.9326C96.6435 73.2493 97.4634 72.853 98.379 72.853C100.073 72.853 100.948 73.9052 100.948 75.6544V79.8086H99.2809V76.0507C99.2809 74.9165 98.7206 74.3699 97.8597 74.3699C96.8348 74.3699 96.2062 75.0804 96.2062 76.1737V79.8086ZM109.289 79.9862C107.28 79.9862 105.873 78.5241 105.873 76.4333C105.873 74.3152 107.253 72.853 109.235 72.853C111.257 72.853 112.542 74.2059 112.542 76.3103V76.8159L107.458 76.8296C107.581 78.0185 108.21 78.6197 109.317 78.6197C110.232 78.6197 110.833 78.2644 111.025 77.6222H112.569C112.282 79.098 111.052 79.9862 109.289 79.9862ZM109.248 74.2195C108.264 74.2195 107.663 74.7525 107.499 75.7637H110.888C110.888 74.8345 110.246 74.2195 109.248 74.2195ZM114.744 79.8086H112.845L115.168 76.5016L112.845 73.058H114.785L116.275 75.3537L117.709 73.058H119.582L117.286 76.4743L119.513 79.8086H117.6L116.165 77.5812L114.744 79.8086ZM121.409 71.7051C120.835 71.7051 120.384 71.2542 120.384 70.6939C120.384 70.1336 120.835 69.6964 121.409 69.6964C121.955 69.6964 122.406 70.1336 122.406 70.6939C122.406 71.2542 121.955 71.7051 121.409 71.7051ZM120.575 79.8086V73.058H122.242V79.8086H120.575ZM123.445 77.7588H125.03C125.044 78.3464 125.481 78.7154 126.247 78.7154C127.026 78.7154 127.449 78.4011 127.449 77.9091C127.449 77.5675 127.272 77.3215 126.67 77.1849L125.454 76.8979C124.238 76.6246 123.65 76.0507 123.65 74.9711C123.65 73.6456 124.771 72.853 126.329 72.853C127.846 72.853 128.87 73.7276 128.884 75.0394H127.299C127.285 74.4655 126.903 74.0965 126.26 74.0965C125.604 74.0965 125.222 74.3972 125.222 74.9028C125.222 75.2854 125.522 75.5314 126.096 75.668L127.313 75.955C128.447 76.2147 129.021 76.7339 129.021 77.7725C129.021 79.139 127.859 79.9862 126.192 79.9862C124.511 79.9862 123.445 79.0843 123.445 77.7588ZM132.586 79.8086H130.919V74.4518H129.62V73.058H130.919V70.9536H132.586V73.058H133.898V74.4518H132.586V79.8086ZM135.768 71.7051C135.194 71.7051 134.743 71.2542 134.743 70.6939C134.743 70.1336 135.194 69.6964 135.768 69.6964C136.314 69.6964 136.765 70.1336 136.765 70.6939C136.765 71.2542 136.314 71.7051 135.768 71.7051ZM134.934 79.8086V73.058H136.601V79.8086H134.934ZM139.991 79.8086H138.324V73.058H139.868L140.005 73.9326C140.428 73.2493 141.248 72.853 142.164 72.853C143.858 72.853 144.733 73.9052 144.733 75.6544V79.8086H143.066V76.0507C143.066 74.9165 142.505 74.3699 141.644 74.3699C140.619 74.3699 139.991 75.0804 139.991 76.1737V79.8086ZM145.988 76.283C145.988 74.3152 147.273 72.8394 149.199 72.8394C150.211 72.8394 151.003 73.263 151.399 73.9872L151.495 73.058H153.039V79.467C153.039 81.7217 151.686 83.1292 149.5 83.1292C147.56 83.1292 146.234 82.0224 146.029 80.2185H147.696C147.806 81.0931 148.475 81.6124 149.5 81.6124C150.648 81.6124 151.386 80.8881 151.386 79.7676V78.6471C150.962 79.2757 150.129 79.6719 149.158 79.6719C147.245 79.6719 145.988 78.2371 145.988 76.283ZM147.669 76.242C147.669 77.3762 148.393 78.2234 149.486 78.2234C150.634 78.2234 151.345 77.4172 151.345 76.242C151.345 75.0941 150.648 74.3015 149.486 74.3015C148.379 74.3015 147.669 75.1351 147.669 76.242ZM157.778 73.058H158.748V72.2381C158.748 70.4069 159.719 69.6417 161.181 69.6417C161.44 69.6417 161.755 69.6554 162.042 69.71V71.1312H161.454C160.607 71.1312 160.402 71.5685 160.402 72.2381V73.058H162.014V74.4518H160.402V79.8086H158.748V74.4518H157.778V73.058ZM162.482 76.4196C162.482 74.3152 163.999 72.8667 166.09 72.8667C168.18 72.8667 169.697 74.3152 169.697 76.4196C169.697 78.5241 168.18 79.9726 166.09 79.9726C163.999 79.9726 162.482 78.5241 162.482 76.4196ZM164.149 76.4196C164.149 77.6495 164.942 78.4831 166.09 78.4831C167.238 78.4831 168.03 77.6495 168.03 76.4196C168.03 75.1898 167.238 74.3562 166.09 74.3562C164.942 74.3562 164.149 75.1898 164.149 76.4196ZM175.255 73.0307V74.5748H174.64C173.437 74.5748 172.686 75.2171 172.686 76.5289V79.8086H171.019V73.0717H172.59L172.686 74.0556C172.973 73.386 173.615 72.935 174.517 72.935C174.749 72.935 174.982 72.9623 175.255 73.0307ZM178.051 79.8086H176.383V73.058H177.914L178.051 73.8506C178.392 73.2903 179.075 72.853 180.046 72.853C181.071 72.853 181.781 73.3586 182.136 74.1375C182.478 73.3586 183.271 72.853 184.296 72.853C185.935 72.853 186.837 73.8369 186.837 75.3947V79.8086H185.184V75.832C185.184 74.8618 184.664 74.3562 183.872 74.3562C183.066 74.3562 182.451 74.8755 182.451 75.9823V79.8086H180.784V75.8184C180.784 74.8755 180.278 74.3699 179.485 74.3699C178.693 74.3699 178.051 74.8891 178.051 75.9823V79.8086Z",fill:"white"}),(0,t.createElement)("path",{d:"M204.998 74.3434C205.119 74.4631 205.187 74.6248 205.187 74.7933C205.187 74.9617 205.119 75.1234 204.998 75.2431L200.659 79.4869C200.6 79.5495 200.528 79.5997 200.448 79.6344C200.368 79.6692 200.282 79.6879 200.195 79.6895C200.107 79.691 200.021 79.6752 199.94 79.6432C199.859 79.6112 199.785 79.5636 199.723 79.5031C199.661 79.4427 199.613 79.3707 199.58 79.2914C199.547 79.2121 199.531 79.1272 199.533 79.0418C199.534 78.9563 199.553 78.872 199.589 78.7939C199.624 78.7158 199.676 78.6455 199.74 78.5873L202.968 75.4298L194.125 75.4298C193.953 75.4298 193.787 75.3628 193.665 75.2434C193.543 75.124 193.474 74.9621 193.474 74.7933C193.474 74.6244 193.543 74.4625 193.665 74.3431C193.787 74.2237 193.953 74.1567 194.125 74.1567L202.968 74.1567L199.74 70.9993C199.625 70.8786 199.562 70.719 199.565 70.5541C199.568 70.3891 199.636 70.2318 199.756 70.1152C199.875 69.9985 200.036 69.9317 200.204 69.9288C200.373 69.9259 200.536 69.9871 200.659 70.0996L204.998 74.3434Z",fill:"white"}))}),edit:({attributes:e,setAttributes:r})=>{const s=(0,C.useBlockProps)(),[c,d]=(0,t.useState)([]),[m,u]=(0,t.useState)(!1),[H,p]=(0,t.useState)(null),f=(0,t.useRef)(null);(0,t.useEffect)(()=>{l()({path:"/gutena-forms/v1/forms/get-ids"}).then(e=>{d(e.forms)}),f.current&&(f.current.focus(),f.current.click()),e.formID&&u(e.formID)},[]),(0,t.useEffect)(()=>{m&&"false"!==m&&l()({path:(0,a.addQueryArgs)("/gutena-forms/v1/forms/get",{id:m})}).then(e=>{p(e.form.content)})},[m]);let V;return V=m&&"false"!==m&&H?(0,t.createElement)("div",null,(0,t.createElement)("div",{dangerouslySetInnerHTML:{__html:H}})):(0,t.createElement)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"220px",border:"1px solid #E2E2E2",background:"#FAFAFA"}},e.formID?(0,t.createElement)("div",null,"Loading form"):(0,t.createElement)("div",{style:{display:"flex",alignItems:"center",flexDirection:"column"}},(0,t.createElement)("div",{style:{display:"block",marginBottom:"20px"}},(0,t.createElement)(o,null)),(0,t.createElement)("div",{style:{width:"320px",borderRadius:"4px",background:"#FAFAFA",border:"1px solid #E2E2E2",position:"relative"}},(0,t.createElement)("span",{style:{position:"absolute",top:"-2px",right:"8px"}},(0,t.createElement)(()=>(0,t.createElement)(n.Icon,{icon:()=>(0,t.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"6",viewBox:"0 0 10 6",fill:"none"},(0,t.createElement)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.219176 0.219196C0.359801 0.0787457 0.550426 -0.000144178 0.749176 -0.000144195C0.947927 -0.000144213 1.13855 0.0787456 1.27918 0.219196L4.74918 3.6892L8.21918 0.219195C8.36135 0.0867153 8.5494 0.0145918 8.7437 0.0180197C8.938 0.0214477 9.12339 0.100161 9.2608 0.237574C9.39821 0.374987 9.47692 0.560372 9.48035 0.754673C9.48378 0.948974 9.41166 1.13702 9.27918 1.27919L5.27918 5.2792C5.13855 5.41965 4.94793 5.49854 4.74918 5.49854C4.55043 5.49854 4.3598 5.41965 4.21918 5.2792L0.219176 1.2792C0.0787254 1.13857 -0.000163476 0.947946 -0.000163494 0.749196C-0.000163511 0.550445 0.0787254 0.359822 0.219176 0.219196Z",fill:"#777777"}))}),null)),(0,t.createElement)("select",{onChange:e=>{u(e.target.value),r({formID:e.target.value})},style:{width:"100%",border:"none"},ref:f},(0,t.createElement)("option",{value:!1},"Choose an existing form"),c.map(e=>(0,t.createElement)("option",{key:e.id,value:e.id},e.title)))))),(0,t.createElement)("div",null,(0,t.createElement)(C.InspectorControls,null,m&&"false"!==m&&H&&(0,t.createElement)(n.Panel,null,(0,t.createElement)(n.PanelHeader,null,(0,i.__)("Form Settings","gutena-forms")),(0,t.createElement)(n.PanelBody,null,(0,t.createElement)("div",{className:"notice notice-warning",style:{margin:"0 0 15px 0"}},(0,t.createElement)("p",null,(0,i.__)("Form fields added from the block inserter are not displayed on the frontend. Use the Gutena Forms Editor to add form fields.","gutena-forms"),(0,t.createElement)(n.Button,{href:`post.php?post=${m}&action=edit`,style:{padding:0,margin:0,textDecoration:"underline",height:0,color:"#007cba",boxShadow:"none"},target:"_blank"},(0,i.__)("Edit Form","gutena-forms"),(0,t.createElement)(n.Dashicon,{icon:"external"})))),(0,t.createElement)(n.Button,{style:{width:"100%",display:"block"},isSecondary:!0,onClick:()=>{u(!1),p(null),r({formID:!1})}},(0,i.__)("Change Form","gutena-forms"))))),(0,t.createElement)("div",s,V))},save:({attributes:e})=>{const n=C.useBlockProps.save();return(0,t.createElement)("div",n,"Something went wrong. Please update Gutena Forms to the latest version.")}})})();